@namespace Carlton.Base.Client.Components

@code {
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    public Tab ActiveTab { get; set; }

    protected List<Tab> _tabs = new List<Tab>();

    protected int _tabCount;

    protected int _activeTabIndex;

    internal void AddTab(Tab tab)
    {
        _tabCount = _tabCount + 1;
        tab.TabIndex = _tabCount - 1;

        _tabs.Add(tab);
        if(_tabs.Count == 1)
            ActiveTab = tab;
        StateHasChanged();
    }

    internal void ActivateTab(Tab tab)
    {
        ActiveTab = tab;
        _activeTabIndex = tab.TabIndex;
    }

    private string GetButtonClass(Tab tab)
    {
        return tab == ActiveTab ? "btn-primary" : "btn-secondary";
    }
}
