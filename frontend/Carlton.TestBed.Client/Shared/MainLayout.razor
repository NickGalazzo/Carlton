@using Carlton.Base.Client.Components.Tab
@using Carlton.TestBed.Client.Services

@inherits LayoutComponentBase

@inject TestBedService service


<div class="sidebar">
    <TestBedNavTree TreeItems="service.TreeItems" SelectedItemChanged="service.SelectItem" />
</div>

<div class="main">
    <div class="content px-4">
        <TestBed ComponentType="service.TestComponentType" IsCarltonComponent="service.IsTestComponentCarltonComponent"
                 ViewModel="service.TestComponentViewModel" ComponentStatus="service.TestComponentStatus"
                 ComponentEventCallback="service.AddComponentEvent" />
    </div>

    <footer class="footer @(!service.IsTestComponentCarltonComponent ? "invisible" : string.Empty)">
        <CarltonTabBar>
            <CarltonTab DisplayText="Component Events">
                <EventConsole ComponentEvents="service.ComponentEvents" ClearEvents="service.ClearEvents" />
            </CarltonTab>
            <CarltonTab DisplayText="JSON Payloads">
                <ViewModelViewer ViewModel="service.TestComponentViewModel" ViewModelChanged="service.UpdateTestComponentViewModel" />
            </CarltonTab>
            <CarltonTab DisplayText="Component Status">
                <ComponentStatusSwitch ComponentStatusChangeCallback="service.UpdateComponentStatus" />
            </CarltonTab>
            <CarltonTab DisplayText="Source">
                <TestComponentSource ComponentType="@service.TestComponentType"/>
            </CarltonTab>
        </CarltonTabBar>
    </footer>
</div>

